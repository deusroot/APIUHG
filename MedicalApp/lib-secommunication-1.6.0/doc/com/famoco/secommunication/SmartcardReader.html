<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Thu Mar 03 08:45:13 UTC 2016 -->
<title>SmartcardReader (SE Communication Library)</title>
<meta name="date" content="2016-03-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SmartcardReader (SE Communication Library)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/famoco/secommunication/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/famoco/secommunication/ALPARProtocol.html" title="class in com.famoco.secommunication"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/famoco/secommunication/SmartcardReader.html" target="_top">Frames</a></li>
<li><a href="SmartcardReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.famoco.secommunication</div>
<h2 title="Class SmartcardReader" class="title">Class SmartcardReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.famoco.secommunication.SmartcardReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SmartcardReader</span>
extends java.lang.Object</pre>
<div class="block">API that encapsulates the ALPAR protocol, and talks to UICC cards.
 
 <h5>The typical usage is:</h5>
 <pre><code>
 smartcardReader = SmartcardReader.getInstance();
 smartcardReader.openReader();
 smartcardReader.powerOn();
 smartcardReader.sendApdu(apdu1);
 smartcardReader.sendApdu(apdu2);
 smartcardReader.sendApdu(apdu3);
 ...
 smartcardReader.powerOff();
 smartcardReader.closeReader();
 </code></pre>
 
 <p>
 The session with UICC card is opened after powerOn, it is closed after powerOff.

 <p>
 If it is used in an android Activity, 
 it's advised to call <a href="../../../com/famoco/secommunication/SmartcardReader.html#openReader()"><code>openReader()</code></a> and <a href="../../../com/famoco/secommunication/SmartcardReader.html#poweredOn"><code>poweredOn</code></a> in onCreate, 
 and call <a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOff()"><code>powerOff()</code></a> and <a href="../../../com/famoco/secommunication/SmartcardReader.html#closeReader()"><code>closeReader()</code></a> in onDestroy.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#TDA8029_SERIALPORT_BAUDRATE_115200">TDA8029_SERIALPORT_BAUDRATE_115200</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#TDA8029_SERIALPORT_BAUDRATE_38400">TDA8029_SERIALPORT_BAUDRATE_38400</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#VERSION">VERSION</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#closeReader()">closeReader</a></strong>()</code>
<div class="block">Closes smart card reader</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#getCardParam()">getCardParam</a></strong>()</code>
<div class="block">Get card parameters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#getFirmwareVersion()">getFirmwareVersion</a></strong>()</code>
<div class="block">Get smart card reader firmware version</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/famoco/secommunication/SmartcardReader.html" title="class in com.famoco.secommunication">SmartcardReader</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">Get SmartcardReader singleton instance</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/famoco/secommunication/SmartcardReader.html" title="class in com.famoco.secommunication">SmartcardReader</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#GetInstance()">GetInstance</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Use <a href="../../../com/famoco/secommunication/SmartcardReader.html#getInstance()"><code>getInstance()</code></a> instead</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#getReaderStatus()">getReaderStatus</a></strong>()</code>
<div class="block">Get reader status</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#ifsdRequest(int)">ifsdRequest</a></strong>(int&nbsp;size)</code>
<div class="block">This command is used to send a S(IFS request) block to the card 
 indicating the maximum length of information field of blocks 
 which can be received by the interface device in T=1 protocol.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#isAutoNegotiate()">isAutoNegotiate</a></strong>()</code>
<div class="block">is auto negotiate set during powerOn</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#isCardPresent()">isCardPresent</a></strong>()</code>
<div class="block">Is a card present in the smartcard reader</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#isDebuggingEnabled()">isDebuggingEnabled</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#negotiate()">negotiate</a></strong>()</code>
<div class="block">This command is used to make a PPS (Protocol and Parameter Selection) to the card.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#negotiate(byte,%20byte)">negotiate</a></strong>(byte&nbsp;protocol,
         byte&nbsp;FiDi)</code>
<div class="block">This command is used to make a PPS (Protocol and Parameter Selection) to the card</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#openReader()">openReader</a></strong>()</code>
<div class="block">Opens smart card reader with default baud rate 38400</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#openReader(int)">openReader</a></strong>(int&nbsp;baudrate)</code>
<div class="block">Opens smart card reader with specified baud rate</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOff()">powerOff</a></strong>()</code>
<div class="block">Power off the smart card</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_1_8V_EMV(boolean)">powerOn_1_8V_EMV</a></strong>(boolean&nbsp;autoNegotiate)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_1_8V_ISO(boolean)">powerOn_1_8V_ISO</a></strong>(boolean&nbsp;autoNegotiate)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_3V_EMV(boolean)">powerOn_3V_EMV</a></strong>(boolean&nbsp;autoNegotiate)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_3V_ISO()">powerOn_3V_ISO</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_5V_EMV()">powerOn_5V_EMV</a></strong>()</code>
<div class="block">5V is known to have stability issues on current hardware</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_5V_ISO()">powerOn_5V_ISO</a></strong>()</code>
<div class="block">5V is known to have stability issues on current hardware</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn_ISO()">powerOn_ISO</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn()">powerOn</a></strong>()</code>
<div class="block">Power on the smart card, and optionally perform negotiate if auto negotiate is set</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#processT1Command(byte[])">processT1Command</a></strong>(byte[]&nbsp;apdu)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Use <a href="../../../com/famoco/secommunication/SmartcardReader.html#sendApdu(byte[])"><code>sendApdu(byte[])</code></a> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#send_T1_IFSRequest(int)">send_T1_IFSRequest</a></strong>(int&nbsp;size)</code>
<div class="block">Send an IFS(information field size) request to indicate a new IFSD it can support.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#sendApdu(byte[])">sendApdu</a></strong>(byte[]&nbsp;apdu)</code>
<div class="block">Send APDU via T=0 or T=1 depending on the protocol negotiated and get the response APDU</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#sendRawCommand(byte,%20byte[])">sendRawCommand</a></strong>(byte&nbsp;command,
              byte[]&nbsp;data)</code>
<div class="block">Send raw ALPAR command frame</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#setAutoNegotiate(boolean)">setAutoNegotiate</a></strong>(boolean&nbsp;auto)</code>
<div class="block">Set auto negotiate during powerOn
 Setting it to true will cause <a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn()"><code>powerOn()</code></a> and its variants to perform auto negotiate based on the card's ATR.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#setCardBaudRate(byte,%20byte)">setCardBaudRate</a></strong>(byte&nbsp;FiDi,
               byte&nbsp;CKU)</code>
<div class="block">This command is used to set the card baud rate</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#setClockCard(byte)">setClockCard</a></strong>(byte&nbsp;frequency)</code>
<div class="block">Change the card clock frequency</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/famoco/secommunication/SmartcardReader.html#setDebuggingEnabled(boolean)">setDebuggingEnabled</a></strong>(boolean&nbsp;debug)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERSION</h4>
<pre>public static final&nbsp;java.lang.String VERSION</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.famoco.secommunication.SmartcardReader.VERSION">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TDA8029_SERIALPORT_BAUDRATE_38400">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TDA8029_SERIALPORT_BAUDRATE_38400</h4>
<pre>public static final&nbsp;int TDA8029_SERIALPORT_BAUDRATE_38400</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.famoco.secommunication.SmartcardReader.TDA8029_SERIALPORT_BAUDRATE_38400">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TDA8029_SERIALPORT_BAUDRATE_115200">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TDA8029_SERIALPORT_BAUDRATE_115200</h4>
<pre>public static final&nbsp;int TDA8029_SERIALPORT_BAUDRATE_115200</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.famoco.secommunication.SmartcardReader.TDA8029_SERIALPORT_BAUDRATE_115200">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/famoco/secommunication/SmartcardReader.html" title="class in com.famoco.secommunication">SmartcardReader</a>&nbsp;getInstance()</pre>
<div class="block">Get SmartcardReader singleton instance</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>SmartcardReader instance</dd></dl>
</li>
</ul>
<a name="openReader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openReader</h4>
<pre>public&nbsp;boolean&nbsp;openReader()</pre>
<div class="block">Opens smart card reader with default baud rate 38400</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> the reader is opened successfully, {code}false{code} otherwise.</dd></dl>
</li>
</ul>
<a name="openReader(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openReader</h4>
<pre>public&nbsp;boolean&nbsp;openReader(int&nbsp;baudrate)</pre>
<div class="block">Opens smart card reader with specified baud rate
 <p>Possible baud rates are: 4800, 9600, 19200, 38400, 57600, 115200</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true the reader is opened successfully, false otherwise.</dd></dl>
</li>
</ul>
<a name="closeReader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeReader</h4>
<pre>public&nbsp;void&nbsp;closeReader()</pre>
<div class="block">Closes smart card reader</div>
</li>
</ul>
<a name="setAutoNegotiate(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutoNegotiate</h4>
<pre>public&nbsp;void&nbsp;setAutoNegotiate(boolean&nbsp;auto)</pre>
<div class="block">Set auto negotiate during powerOn
 Setting it to true will cause <a href="../../../com/famoco/secommunication/SmartcardReader.html#powerOn()"><code>powerOn()</code></a> and its variants to perform auto negotiate based on the card's ATR.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>auto,</code> - set it true if negotiate is wanted and false to suppress negotiate during power on</dd></dl>
</li>
</ul>
<a name="isAutoNegotiate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAutoNegotiate</h4>
<pre>public&nbsp;boolean&nbsp;isAutoNegotiate()</pre>
<div class="block">is auto negotiate set during powerOn</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if auto negotiate is set, false otherwise</dd></dl>
</li>
</ul>
<a name="powerOn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn()</pre>
<div class="block">Power on the smart card, and optionally perform negotiate if auto negotiate is set</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>ATR Answer To Reset</dd></dl>
</li>
</ul>
<a name="powerOn_ISO()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_ISO</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_ISO()</pre>
</li>
</ul>
<a name="powerOn_5V_ISO()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_5V_ISO</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_5V_ISO()</pre>
<div class="block">5V is known to have stability issues on current hardware</div>
</li>
</ul>
<a name="powerOn_5V_EMV()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_5V_EMV</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_5V_EMV()</pre>
<div class="block">5V is known to have stability issues on current hardware</div>
</li>
</ul>
<a name="powerOn_3V_ISO()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_3V_ISO</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_3V_ISO()</pre>
</li>
</ul>
<a name="powerOn_3V_EMV(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_3V_EMV</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_3V_EMV(boolean&nbsp;autoNegotiate)</pre>
</li>
</ul>
<a name="powerOn_1_8V_ISO(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_1_8V_ISO</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_1_8V_ISO(boolean&nbsp;autoNegotiate)</pre>
</li>
</ul>
<a name="powerOn_1_8V_EMV(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOn_1_8V_EMV</h4>
<pre>public&nbsp;byte[]&nbsp;powerOn_1_8V_EMV(boolean&nbsp;autoNegotiate)</pre>
</li>
</ul>
<a name="negotiate(byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>negotiate</h4>
<pre>public&nbsp;void&nbsp;negotiate(byte&nbsp;protocol,
             byte&nbsp;FiDi)</pre>
<div class="block">This command is used to make a PPS (Protocol and Parameter Selection) to the card</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>protocol</code> - the protocol to be used. 
 Possible values are: 
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_PROTOCOL_T0"><code>ALPARProtocol.PARAM_PROTOCOL_T0</code></a>,
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_PROTOCOL_T1"><code>ALPARProtocol.PARAM_PROTOCOL_T1</code></a></dd><dd><code>FiDi</code> - the ratio Fi/Di given by TA1 parameter of the ATR</dd></dl>
</li>
</ul>
<a name="negotiate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>negotiate</h4>
<pre>public&nbsp;void&nbsp;negotiate()</pre>
<div class="block">This command is used to make a PPS (Protocol and Parameter Selection) to the card.
 It negotiates the best possible protocol and FiDi values based on the ATR.
 
 If T=1 is supported, it's preferred over T=0. 
 and IFSD size is set automatically to 254 under T=1 protocol and ISO mode.</div>
</li>
</ul>
<a name="setCardBaudRate(byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCardBaudRate</h4>
<pre>public&nbsp;void&nbsp;setCardBaudRate(byte&nbsp;FiDi,
                   byte&nbsp;CKU)</pre>
<div class="block">This command is used to set the card baud rate</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>FiDi</code> - the ratio Fi/Di given by TA1 parameter of the ATR</dd><dd><code>CKU</code> - if CKU=<a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_FIDI_CKU"><code>ALPARProtocol.PARAM_FIDI_CKU</code></a>, 
 the baud rate is defined by FiDi. 
 if CKU=<a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_TWICE_FIDI_CKU"><code>ALPARProtocol.PARAM_TWICE_FIDI_CKU</code></a>, 
 the baud rate is 2 * the baud rate is defined by FiDi.</dd></dl>
</li>
</ul>
<a name="sendRawCommand(byte, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRawCommand</h4>
<pre>public&nbsp;byte[]&nbsp;sendRawCommand(byte&nbsp;command,
                    byte[]&nbsp;data)</pre>
<div class="block">Send raw ALPAR command frame <p>refer to document AN10207.pdf from NXP</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>command</code> - the command byte</dd><dd><code>data</code> - the data</dd>
<dt><span class="strong">Returns:</span></dt><dd>raw answer frame</dd></dl>
</li>
</ul>
<a name="powerOff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powerOff</h4>
<pre>public&nbsp;void&nbsp;powerOff()</pre>
<div class="block">Power off the smart card</div>
</li>
</ul>
<a name="getReaderStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReaderStatus</h4>
<pre>public&nbsp;byte&nbsp;getReaderStatus()</pre>
<div class="block">Get reader status</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the status byte. <p>refer to document AN10207.pdf from NXP</dd></dl>
</li>
</ul>
<a name="getCardParam()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCardParam</h4>
<pre>public&nbsp;byte[]&nbsp;getCardParam()</pre>
<div class="block">Get card parameters
 
 <p>refer to document AN10207.pdf from NXP</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>card parameters</dd></dl>
</li>
</ul>
<a name="setClockCard(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClockCard</h4>
<pre>public&nbsp;void&nbsp;setClockCard(byte&nbsp;frequency)</pre>
<div class="block">Change the card clock frequency</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>frequency</code> - Possible values are:
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_CLOCK_FREQUENCY_14_745MHz"><code>ALPARProtocol.PARAM_CLOCK_FREQUENCY_14_745MHz</code></a>,
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_CLOCK_FREQUENCY_7_37MHz"><code>ALPARProtocol.PARAM_CLOCK_FREQUENCY_7_37MHz</code></a>,
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_CLOCK_FREQUENCY_3_68MHz"><code>ALPARProtocol.PARAM_CLOCK_FREQUENCY_3_68MHz</code></a>,  
 <a href="../../../com/famoco/secommunication/ALPARProtocol.html#PARAM_CLOCK_FREQUENCY_1_84MHz"><code>ALPARProtocol.PARAM_CLOCK_FREQUENCY_1_84MHz</code></a></dd></dl>
</li>
</ul>
<a name="getFirmwareVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirmwareVersion</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFirmwareVersion()</pre>
<div class="block">Get smart card reader firmware version</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Smart card reader firmware version</dd></dl>
</li>
</ul>
<a name="isCardPresent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCardPresent</h4>
<pre>public&nbsp;boolean&nbsp;isCardPresent()</pre>
<div class="block">Is a card present in the smartcard reader</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if card is present, false otherwise.
 Due to a missing PRES pin setup in hardware, this doesn't work as of now and always returns true.</dd></dl>
</li>
</ul>
<a name="sendApdu(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendApdu</h4>
<pre>public&nbsp;byte[]&nbsp;sendApdu(byte[]&nbsp;apdu)</pre>
<div class="block">Send APDU via T=0 or T=1 depending on the protocol negotiated and get the response APDU</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>apdu</code> - the command APDU</dd>
<dt><span class="strong">Returns:</span></dt><dd>response APDU</dd></dl>
</li>
</ul>
<a name="processT1Command(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processT1Command</h4>
<pre>@Deprecated
public&nbsp;byte[]&nbsp;processT1Command(byte[]&nbsp;apdu)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Use <a href="../../../com/famoco/secommunication/SmartcardReader.html#sendApdu(byte[])"><code>sendApdu(byte[])</code></a> instead</i></div>
<div class="block">Send APDU and get the response APDU with T=1 protocol</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>apdu</code> - the command APDU</dd>
<dt><span class="strong">Returns:</span></dt><dd>response APDU</dd></dl>
</li>
</ul>
<a name="ifsdRequest(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ifsdRequest</h4>
<pre>public&nbsp;void&nbsp;ifsdRequest(int&nbsp;size)</pre>
<div class="block">This command is used to send a S(IFS request) block to the card 
 indicating the maximum length of information field of blocks 
 which can be received by the interface device in T=1 protocol. 
 
 <p>The initial size following the answer to reset is 32 bytes and 
 this size shall be used throughout the rest of the card session 
 or until a new value is negotiated by the terminal by sending a S(IFS request) block to the card.
 
 <p>In E.M.V. mode, the IFSD size is automatically negotiated to 254 just after the ATR has been received.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - IFSD size in T=1 protocol</dd></dl>
</li>
</ul>
<a name="send_T1_IFSRequest(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send_T1_IFSRequest</h4>
<pre>public&nbsp;void&nbsp;send_T1_IFSRequest(int&nbsp;size)</pre>
<div class="block">Send an IFS(information field size) request to indicate a new IFSD it can support.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - </dd></dl>
</li>
</ul>
<a name="GetInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetInstance</h4>
<pre>@Deprecated
public static&nbsp;<a href="../../../com/famoco/secommunication/SmartcardReader.html" title="class in com.famoco.secommunication">SmartcardReader</a>&nbsp;GetInstance()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Use <a href="../../../com/famoco/secommunication/SmartcardReader.html#getInstance()"><code>getInstance()</code></a> instead</i></div>
</li>
</ul>
<a name="setDebuggingEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebuggingEnabled</h4>
<pre>public static&nbsp;void&nbsp;setDebuggingEnabled(boolean&nbsp;debug)</pre>
</li>
</ul>
<a name="isDebuggingEnabled()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isDebuggingEnabled</h4>
<pre>public static&nbsp;boolean&nbsp;isDebuggingEnabled()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/famoco/secommunication/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/famoco/secommunication/ALPARProtocol.html" title="class in com.famoco.secommunication"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/famoco/secommunication/SmartcardReader.html" target="_top">Frames</a></li>
<li><a href="SmartcardReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
